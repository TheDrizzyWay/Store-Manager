{"version":3,"sources":["../../../api/v1/controllers/productcontroller.js"],"names":["createProduct","req","res","product","Product","body","allProducts","push","status","send","findAllProducts","findProductById","productId","params","find","obj","id","undefined","errors","message","updateProduct","previousProduct","updatedProduct","index","findIndex","splice","deleteProduct"],"mappings":";;;;;;;;;;AAAA;;;;kBAEe;AACbA,eADa,yBACCC,GADD,EACMC,GADN,EACW;AACtB,QAAMC,UAAU,IAAIC,qBAAJ,CAAYH,IAAII,IAAhB,CAAhB;AACAC,8BAAYC,IAAZ,CAAiBJ,OAAjB;AACAD,QAAIM,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqBN,OAArB;AACD,GALY;AAObO,iBAPa,2BAOGT,GAPH,EAOQC,GAPR,EAOa;AACxBA,QAAIM,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqBH,yBAArB;AACD,GATY;AAWbK,iBAXa,2BAWGV,GAXH,EAWQC,GAXR,EAWa;AACxB,QAAMU,YAAYX,IAAIY,MAAJ,CAAWD,SAA7B;AACA,QAAMT,UAAUG,0BAAYQ,IAAZ,CAAiB;AAAA,aAAOC,IAAIC,EAAJ,KAAWJ,SAAlB;AAAA,KAAjB,CAAhB;AACA,QAAIT,YAAYc,SAAhB,EAA2B;AACzBf,UAAIM,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,EAAES,QAAQ,EAAEC,SAAS,oBAAX,EAAV,EAArB;AACD;AACDjB,QAAIM,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqBN,OAArB;AACD,GAlBY;AAoBbiB,eApBa,yBAoBCnB,GApBD,EAoBMC,GApBN,EAoBW;AACtB,QAAMU,YAAYX,IAAIY,MAAJ,CAAWD,SAA7B;AACA,QAAMS,kBAAkBf,0BAAYQ,IAAZ,CAAiB;AAAA,aAAOC,IAAIC,EAAJ,KAAWJ,SAAlB;AAAA,KAAjB,CAAxB;AACA,QAAIS,oBAAoBJ,SAAxB,EAAmC;AACjC,aAAOf,IAAIM,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,EAAES,QAAQ,EAAEC,SAAS,oBAAX,EAAV,EAArB,CAAP;AACD;AACD,QAAMG,4CAAsBD,eAAtB,EAA0CpB,IAAII,IAA9C,CAAN;AACA,QAAMkB,QAAQjB,0BAAYkB,SAAZ,CAAsB;AAAA,aAAOT,IAAIC,EAAJ,KAAWK,gBAAgBL,EAAlC;AAAA,KAAtB,CAAd;;AAEAV,8BAAYmB,MAAZ,CAAmBF,KAAnB,EAA0B,CAA1B,EAA6BD,cAA7B;AACApB,QAAIM,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqBa,cAArB;AACD,GA/BY;AAiCbI,eAjCa,yBAiCCzB,GAjCD,EAiCMC,GAjCN,EAiCW;AACtB,QAAMU,YAAYX,IAAIY,MAAJ,CAAWD,SAA7B;AACA,QAAMW,QAAQjB,0BAAYkB,SAAZ,CAAsB;AAAA,aAAOT,IAAIC,EAAJ,KAAWJ,SAAlB;AAAA,KAAtB,CAAd;AACA,QAAIW,UAAU,CAAC,CAAf,EAAkB;AAChB,aAAOrB,IAAIM,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,EAAES,QAAQ,EAAEC,SAAS,oBAAX,EAAV,EAArB,CAAP;AACD;;AAEDb,8BAAYmB,MAAZ,CAAmBF,KAAnB,EAA0B,CAA1B;AACArB,QAAIM,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqBH,yBAArB;AACD;AA1CY,C","file":"productcontroller.js","sourcesContent":["import { allProducts, Product } from '../models/productmodel';\r\n\r\nexport default {\r\n  createProduct(req, res) {\r\n    const product = new Product(req.body);\r\n    allProducts.push(product);\r\n    res.status(201).send(product);\r\n  },\r\n\r\n  findAllProducts(req, res) {\r\n    res.status(200).send(allProducts);\r\n  },\r\n\r\n  findProductById(req, res) {\r\n    const productId = req.params.productId;\r\n    const product = allProducts.find(obj => obj.id === productId);\r\n    if (product === undefined) {\r\n      res.status(404).send({ errors: { message: 'Product not found.' } });\r\n    }\r\n    res.status(200).send(product);\r\n  },\r\n\r\n  updateProduct(req, res) {\r\n    const productId = req.params.productId;\r\n    const previousProduct = allProducts.find(obj => obj.id === productId);\r\n    if (previousProduct === undefined) {\r\n      return res.status(404).send({ errors: { message: 'Product not found.' } });\r\n    }\r\n    const updatedProduct = { ...previousProduct, ...req.body };\r\n    const index = allProducts.findIndex(obj => obj.id === previousProduct.id);\r\n\r\n    allProducts.splice(index, 1, updatedProduct);\r\n    res.status(200).send(updatedProduct);\r\n  },\r\n\r\n  deleteProduct(req, res) {\r\n    const productId = req.params.productId;\r\n    const index = allProducts.findIndex(obj => obj.id === productId);\r\n    if (index === -1) {\r\n      return res.status(404).send({ errors: { message: 'Product not found.' } });\r\n    }\r\n\r\n    allProducts.splice(index, 1);\r\n    res.status(204).send(allProducts);\r\n  },\r\n\r\n};\r\n"]}