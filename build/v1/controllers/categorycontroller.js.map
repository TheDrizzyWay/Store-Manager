{"version":3,"sources":["../../../api/v1/controllers/categorycontroller.js"],"names":["createCategory","req","res","category","Category","body","allCategories","push","status","send","findAllCategories","findCategoryById","categoryId","params","find","obj","id","undefined","errors","message","updateCategory","previousCategory","updatedCategory","index","findIndex","splice","deleteCategory"],"mappings":";;;;;;;;;;AAAA;;;;kBAEe;AACbA,gBADa,0BACEC,GADF,EACOC,GADP,EACY;AACvB,QAAMC,WAAW,IAAIC,uBAAJ,CAAaH,IAAII,IAAjB,CAAjB;AACAC,iCAAcC,IAAd,CAAmBJ,QAAnB;AACAD,QAAIM,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqBN,QAArB;AACD,GALY;AAObO,mBAPa,6BAOKT,GAPL,EAOUC,GAPV,EAOe;AAC1BA,QAAIM,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqBH,4BAArB;AACD,GATY;AAWbK,kBAXa,4BAWIV,GAXJ,EAWSC,GAXT,EAWc;AACzB,QAAMU,aAAaX,IAAIY,MAAJ,CAAWD,UAA9B;AACA,QAAMT,WAAWG,6BAAcQ,IAAd,CAAmB;AAAA,aAAOC,IAAIC,EAAJ,KAAWJ,UAAlB;AAAA,KAAnB,CAAjB;AACA,QAAIT,aAAac,SAAjB,EAA4B;AAC1Bf,UAAIM,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,EAAES,QAAQ,EAAEC,SAAS,qBAAX,EAAV,EAArB;AACD;AACDjB,QAAIM,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqBN,QAArB;AACD,GAlBY;AAoBbiB,gBApBa,0BAoBEnB,GApBF,EAoBOC,GApBP,EAoBY;AACvB,QAAMU,aAAaX,IAAIY,MAAJ,CAAWD,UAA9B;AACA,QAAMS,mBAAmBf,6BAAcQ,IAAd,CAAmB;AAAA,aAAOC,IAAIC,EAAJ,KAAWJ,UAAlB;AAAA,KAAnB,CAAzB;AACA,QAAIS,qBAAqBJ,SAAzB,EAAoC;AAClC,aAAOf,IAAIM,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,EAAES,QAAQ,EAAEC,SAAS,qBAAX,EAAV,EAArB,CAAP;AACD;AACD,QAAMG,6CAAuBD,gBAAvB,EAA4CpB,IAAII,IAAhD,CAAN;AACA,QAAMkB,QAAQjB,6BAAckB,SAAd,CAAwB;AAAA,aAAOT,IAAIC,EAAJ,KAAWK,iBAAiBL,EAAnC;AAAA,KAAxB,CAAd;;AAEAV,iCAAcmB,MAAd,CAAqBF,KAArB,EAA4B,CAA5B,EAA+BD,eAA/B;AACApB,QAAIM,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqBa,eAArB;AACD,GA/BY;AAiCbI,gBAjCa,0BAiCEzB,GAjCF,EAiCOC,GAjCP,EAiCY;AACvB,QAAMU,aAAaX,IAAIY,MAAJ,CAAWD,UAA9B;AACA,QAAMW,QAAQjB,6BAAckB,SAAd,CAAwB;AAAA,aAAOT,IAAIC,EAAJ,KAAWJ,UAAlB;AAAA,KAAxB,CAAd;AACA,QAAIW,UAAU,CAAC,CAAf,EAAkB;AAChB,aAAOrB,IAAIM,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,EAAES,QAAQ,EAAEC,SAAS,qBAAX,EAAV,EAArB,CAAP;AACD;;AAEDb,iCAAcmB,MAAd,CAAqBF,KAArB,EAA4B,CAA5B;AACArB,QAAIM,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqBH,4BAArB;AACD;AA1CY,C","file":"categorycontroller.js","sourcesContent":["import { allCategories, Category } from '../models/categorymodel';\r\n\r\nexport default {\r\n  createCategory(req, res) {\r\n    const category = new Category(req.body);\r\n    allCategories.push(category);\r\n    res.status(201).send(category);\r\n  },\r\n\r\n  findAllCategories(req, res) {\r\n    res.status(200).send(allCategories);\r\n  },\r\n\r\n  findCategoryById(req, res) {\r\n    const categoryId = req.params.categoryId;\r\n    const category = allCategories.find(obj => obj.id === categoryId);\r\n    if (category === undefined) {\r\n      res.status(404).send({ errors: { message: 'Category not found.' } });\r\n    }\r\n    res.status(200).send(category);\r\n  },\r\n\r\n  updateCategory(req, res) {\r\n    const categoryId = req.params.categoryId;\r\n    const previousCategory = allCategories.find(obj => obj.id === categoryId);\r\n    if (previousCategory === undefined) {\r\n      return res.status(404).send({ errors: { message: 'Category not found.' } });\r\n    }\r\n    const updatedCategory = { ...previousCategory, ...req.body };\r\n    const index = allCategories.findIndex(obj => obj.id === previousCategory.id);\r\n\r\n    allCategories.splice(index, 1, updatedCategory);\r\n    res.status(200).send(updatedCategory);\r\n  },\r\n\r\n  deleteCategory(req, res) {\r\n    const categoryId = req.params.categoryId;\r\n    const index = allCategories.findIndex(obj => obj.id === categoryId);\r\n    if (index === -1) {\r\n      return res.status(404).send({ errors: { message: 'Category not found.' } });\r\n    }\r\n\r\n    allCategories.splice(index, 1);\r\n    res.status(204).send(allCategories);\r\n  },\r\n};\r\n"]}